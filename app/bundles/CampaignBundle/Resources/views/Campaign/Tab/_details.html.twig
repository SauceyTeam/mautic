<div class="table-responsive campaign-changelog">
    <ul class="media-list media-list-feed">
        <li class="media">
            {% if changeSet.removed is defined %}
                {% set key = changeSet.removed|keys|first %}
                <span class="table-caption text-danger">Removed: Event Id: {{ key }} name: {{ changeSet.removed[key] }}</span>
            {% endif %}
            {% if changeSet.added is defined %}
                {% set key = changeSet.added|keys|first %}
                {% for key, change in changeSet.added %}

                    {% set subChanges = change[1] %}
                    {% if subChanges is iterable %}
                        <div class="table-wrapper media-body">
                            <table class="table table-striped table-bordered">
                                <caption class="table-caption text-success">
                                    Added/Updated: Event Id: {{ key }}
                                </caption>
                                <thead class="thead-dark">
                                <tr>
                                    <th>Field</th>
                                    <th>Old Value</th>
                                    <th>New Value</th>
                                </tr>
                                </thead>
                                <tbody>
                                {% for subKey, subChange in subChanges %}
                                    <tr>
                                        <td>{{ subKey }}</td>
                                        <td>
                                            <pre class="text-muted">{{ subChange[0]|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
                                        </td>
                                        <td>
                                            <pre class="text-muted">{{ subChange[1]|json_encode(constant('JSON_PRETTY_PRINT')) }}</pre>
                                        </td>
                                    </tr>
                                {% endfor %}
                                </tbody>
                            </table>
                        </div>
                    {% endif %}
                {% endfor %}
            {% endif %}
        </li>
    </ul>
    <hr>
</div>

{#<style>#}
{#    .table-wrapper {#}
{#        max-width: 100%;#}
{#        overflow-x: auto;#}
{#    }#}
{#    .table {#}
{#        min-width: 600px; /* Ensures table doesn't shrink too much */#}
{#        table-layout: fixed;#}
{#        word-wrap: break-word;#}
{#    }#}
{#    .fixed-col {#}
{#        width: 200px; /* Set a fixed width for each column */#}
{#        white-space: nowrap;#}
{#        overflow: hidden;#}
{#        text-overflow: ellipsis;#}
{#    }#}
{#    .small-col {#}
{#        width: 150px; /* Smaller width for the first column */#}
{#        white-space: nowrap;#}
{#        overflow: hidden;#}
{#        text-overflow: ellipsis;#}
{#    }#}
{#    .large-col {#}
{#        width: calc((100% - 150px) / 2); /* Equal width for the second and third columns */#}
{#        white-space: normal;#}
{#        overflow: hidden;#}
{#    }#}
{#    .json-block {#}
{#        max-height: 150px;#}
{#        overflow-y: auto;#}
{#        background: #f8f9fa;#}
{#        padding: 5px;#}
{#        border-radius: 4px;#}
{#        font-size: 12px;#}
{#    }#}
{#    .table-caption {#}
{#        caption-side: top; /* Default: Can also be 'bottom' */#}
{#        font-weight: bold;#}
{#        font-size: 1.2rem;#}
{#        text-align: left;#}
{#        padding: 8px 0;#}
{#        color: #333;#}
{#    }#}
{#</style>#}
