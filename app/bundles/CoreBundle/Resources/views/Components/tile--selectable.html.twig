{#
    Selectable tile variant - a tile that can be selected/checked

    Parameters:
    - title: string (required) - The title of the tile
    - subtitle: string (optional) - Secondary text below the title
    - name: string (required) - Name attribute for the input element
    - value: string (required) - Value attribute for the input element
    - icon: string (optional) - CSS class for an icon
    - image: string (optional) - URL to an image to display in the tile
    - description: string (optional) - Detailed description of the tile content
    - checked: boolean (optional) - Whether the tile is pre-selected (default: false)
    - disabled: boolean (optional) - Whether the tile is disabled (default: false)
    - attributes: array (optional) - HTML attributes for the tile container
#}

{% set tile_classes = ['tile', 'tile--selectable'] %}
{% if attributes.class is defined %}
    {% set extra_classes = attributes.class|split(' ') %}
    {% set tile_classes = tile_classes|merge(extra_classes) %}
{% endif %}

{% set custom_attributes = '' %}
{% if attributes is defined %}
    {% for attribute, value in attributes %}
        {% if attribute != 'class' %}
            {% set custom_attributes = custom_attributes ~ ' ' ~ attribute ~ '="' ~ value|e('html_attr') ~ '"' %}
        {% endif %}
    {% endfor %}
{% endif %}

<label class="{{ tile_classes|join(' ') }} {% if disabled is defined and disabled %}disabled{% endif %}"{{ custom_attributes|raw }}>
    <input type="radio"
           name="{{ name }}"
           value="{{ value }}"
           {% if checked is defined and checked %}checked{% endif %}
           {% if disabled is defined and disabled %}disabled{% endif %}
           class="tile__input" />

    <div class="tile__selection-indicator">
        <i class="fa fa-check" aria-hidden="true"></i>
    </div>

    {% if image is defined %}
        <div class="tile__image">
            <img src="{{ image }}" alt="{{ title|default('') }}" />
        </div>
    {% endif %}

    <div class="tile__header">
        {% if icon is defined %}
            <i class="{{ icon }}" aria-hidden="true"></i>
        {% endif %}
        {% if title is defined %}
            <h3 class="tile__title">{{ title }}</h3>
        {% endif %}
        {% if subtitle is defined %}
            <div class="tile__subtitle">{{ subtitle }}</div>
        {% endif %}
    </div>

    {% if description is defined %}
        <div class="tile__content">
            <div class="tile__description">
                {{ description|raw }}
            </div>
        </div>
    {% endif %}
</label>